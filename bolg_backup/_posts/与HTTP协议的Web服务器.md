---
title: 图解HTTP-与HTTP协议的Web服务器-笔记
data: 2017/2/17
tags:
  - 计算机网络#HTTP
categories:
  - 计算机网络
---

### 与HTTP协作的Web服务器

#### 通信数据转发程序:代理、网关、隧道

* 在HTTP通信时,代理、网关和隧道是用于通信数据的转发的应用程序,他们可以配合服务器进行工作
* 代理就像一个中介,他接收客户端发来的信息继而转发给服务器,同时也可以接受服务器的信息转发给客户端
* 网关是转发其他服务器通信数据的服务器,接收从客户端发送来的请求时,它就像自己拥有资源的源服务器一样对请求进行处理。有时客户端可能都不会察觉,自己的通信目标是一个网关。
* 隧道是在相隔甚远的客户端和服务器两者之间进行中转,并保持双方通信连接的应用程序。

##### 代理

![](/uploads/图解HTTP/与HTTP协议的Web服务器01.jpg)

<!-- more -->

* 每次通过代理服务器转发请求或响应时,会追加写入 Via 首部信息
* 利用代理的作用:
 * 利用缓存技术减少宽带流量
 * 对特定网站的控制访问,以获取访问日志为主要目的
* 代理的分类:
 * 缓存代理(Caching Proxy):代理转发响应时,缓存代理(Caching Proxy)会预先将资源的副本(缓存)保存在代理服务器上。
 * 透明代理:转发请求或响应时,不对报文做任何加工的代理类型被称为透明代理(TransparentProxy)。反之,对报文内容进行加工的代理被称为非透明代理。

##### 网关

![](/uploads/图解HTTP/与HTTP协议的Web服务器02.jpg)

* 网关的工作机制和代理十分相似。而网关能使通信线路上的服务器提供非 HTTP 协议服务。
* 利用网关能提高通信的安全性,因为可以在客户端与网关之间的通信线路上加密以确保连接的安全。比如,网关可以连接数据库,使用SQL 语句查询数据。另外,在 Web 购物网站上进行信用卡结算时,网关可以和信用卡结算系统联动。

##### 隧道

* 隧道可按要求建立起一条与其他服务器的通信线路,届时使用SSL等加密手段进行通信。隧道的目的是确保客户端能与服务器进行安全的通信。

#### 保存资源的缓存

* 利用缓存技术可以减少对服务器的访问,以及通信流量和通信时间。

##### 缓存的有限期限

![](/uploads/图解HTTP/与HTTP协议的Web服务器03.jpg)

##### 客户端的缓存

![](/uploads/图解HTTP/与HTTP协议的Web服务器04.jpg)

> 以上笔记来源与图解HTTP一书
